---
title: Introduction
description: See exactly what happens inside your API. Debug in seconds, not hours.
---

# Vision

**See exactly what happens inside your API.**

Vision shows you the complete journey of every request: which database queries ran, how long each step took, what data was sent and received. When something breaks, you click the failed request and see exactly where and why.

```
Before: Something's slow. Add console.log. Restart. Check logs. Repeat.
After:  Open Vision. Click the slow request. See the waterfall. Fix it.
```

---

## 30-Second Demo

**1. Create your app:**

```typescript
import { Vision } from '@getvision/server'
import { z } from 'zod'

const app = new Vision({ service: { name: 'My API' } })

app.service('users')
  .endpoint('GET', '/users/:id', {
    input: z.object({ id: z.string() }),
    output: z.object({ id: z.string(), name: z.string() })
  }, async ({ id }, c) => {
    const user = c.span('db.select', { 'db.table': 'users' }, () => getUser(id))
    return user
  })

app.start(3000)
```

**2. Make a request to your API**

**3. Open `localhost:9500` and click the request:**

```
GET /users/123 (245ms)
├── middleware.auth (5ms)
├── handler (235ms)
│   ├── db.select.users (12ms)
│   ├── db.select.orders (180ms) ← Found it! This query is slow
│   └── transform (40ms)
└── response (5ms)
```

**You immediately see:** The orders query takes 180ms. That's the problem.

No console.log. No guessing. Just click and see.

---

## What Vision Shows You

### Request Waterfall

See every operation inside your request:

- **HTTP handling** - method, path, status, timing
- **Database queries** - which queries ran, how long each took
- **External API calls** - requests to Stripe, SendGrid, etc.
- **Custom operations** - anything you wrap in a span

### Request & Response Data

See exactly what was sent and received:

- Full request headers and body
- Full response headers and body
- Validation errors with field-level detail
- Error stack traces

### Auto-Discovered Routes

All your endpoints appear automatically:

- Grouped by service (`/users/*` → Users, `/orders/*` → Orders)
- Input/output schemas extracted from Zod
- Ready to test in the API Explorer

### Live Logs (Wide Events)

Your `console.log` calls appear in the dashboard with automatic context:

- **Request-scoped** - Click a trace to see only logs from that request
- **Searchable** - Search by message OR by context fields like `userId=123`
- **Add context once, see it everywhere** - `c.addContext()` attaches to all logs in that request

```typescript
// Vision Server - c.addContext() is built in
c.addContext({ userId: '123', orderId: 'abc' })
console.log('Processing')  // Automatically has userId, orderId
console.log('Done')        // Automatically has userId, orderId
```

---

## Two Ways to Use Vision

### Vision Server (Recommended)

The best way to use Vision. Everything is built into the context:

```bash
npm install @getvision/server
```

```typescript
import { Vision } from '@getvision/server'
import { z } from 'zod'

const app = new Vision({
  service: { name: 'My API' }
})

app.service('users')
  .endpoint('GET', '/users/:id', {
    input: z.object({ id: z.string() }),
    output: z.object({ id: z.string(), name: z.string() })
  }, async ({ id }, c) => {
    // Everything is built into context:
    c.addContext({ userId: id })           // Wide events
    const user = c.span('db.select', {     // Tracing
      'db.table': 'users'
    }, () => db.select().from(users).where(eq(users.id, id)))

    return user
  })

app.start(3000)
```

**Vision Server includes:**
- `c.span()` - Built-in tracing
- `c.addContext()` - Wide events logging
- `c.emit()` - Type-safe pub/sub events
- Type-safe validation with Zod
- Cron jobs, file-based routing

### Add to Existing App

Already have a Hono, Fastify, or Express app? Add Vision in 2 lines:

```bash
npm install @getvision/adapter-hono  # or adapter-fastify, adapter-express
```

```typescript
import { Hono } from 'hono'
import { visionAdapter, enableAutoDiscovery } from '@getvision/adapter-hono'

const app = new Hono()

app.use('*', visionAdapter())
enableAutoDiscovery(app)

// Your existing routes work as-is
app.get('/users/:id', async (c) => {
  const user = await db.select().from(users).where(eq(users.id, id))
  return c.json(user)
})
```

**Works with:** Hono, Fastify, Express (more coming)

---

## Which Should I Use?

| Scenario | Use This |
|----------|----------|
| Starting a new API project | **Vision Server** - everything built in |
| Want `c.span()`, `c.addContext()`, `c.emit()` | **Vision Server** - all in context |
| Need structured services + events + cron | **Vision Server** - batteries included |
| Have an existing Hono/Fastify/Express app | **Adapters** - add 2 lines to existing code |

**Recommendation:** Start with Vision Server. It's the full experience.

---

## Why Not Just Use console.log?

You can. But:

| Problem | console.log | Vision |
|---------|-------------|--------|
| "Which query is slow?" | Add timing logs around each query | Click request, see waterfall |
| "What was in the request body?" | `console.log(req.body)` | Already captured |
| "Did the cache hit?" | Add log, restart, test | Already captured as span |
| "What happened in production staging?" | Scroll through terminal | Open dashboard, click trace |
| "Which request caused this error?" | Hope you logged enough context | Error is attached to trace |

Vision captures everything automatically. You look at what you need, when you need it.

---

## Why Not DataDog / NewRelic?

Those are great for production monitoring. Vision is for **development**:

| | Vision | DataDog/NewRelic |
|---|--------|------------------|
| Cost | Free, open source | $50+/month |
| Setup | 2 lines of code | SDK + config + agent |
| Data | Stays on your machine | Sent to cloud |
| Focus | Debugging during dev | Production monitoring |
| UI | Local dashboard | Cloud dashboard |

Use Vision during development. Add production APM when you need it.

---

## Get Started

**Quickest path:**

```bash
# Clone an example and try it
git clone https://github.com/ephor/vision
cd vision/examples/hono
bun install && bun run db:push && bun dev

# Open http://localhost:9500
```

**Add to your app:**

- [**Quickstart**](/docs/quickstart) - Full setup in 5 minutes
- [**Hono Adapter**](/docs/adapters/hono)
- [**Fastify Adapter**](/docs/adapters/fastify)
- [**Express Adapter**](/docs/adapters/express)

**Learn more:**

- [**Why Vision?**](/docs/why-vision) - Real debugging scenarios
- [**Debugging Workflows**](/docs/debugging) - Step-by-step guides
- [**Core Concepts**](/docs/concepts) - Traces, spans, context

---

## Open Source

Vision is MIT licensed. Star us on [GitHub](https://github.com/ephor/vision) if you find it useful.
